{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\zebi9\\\\Desktop\\\\imp\\\\pmi_ft_amine\\\\frontend\\\\src\\\\components\\\\admin\\\\RemindersList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport api from \"../../api/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RemindersList = () => {\n  _s();\n  const [reminders, setReminders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [type, setType] = useState(\"\");\n  useEffect(() => {\n    setLoading(true);\n    api.get(`/notifications/all${type ? `?type=${type}` : \"\"}`).then(res => setReminders(res.data)).finally(() => setLoading(false));\n  }, [type]);\n  const handleExport = type => {\n    let url = \"\";\n    if (type === \"feedback\") url = \"/api/feedback/export/csv\";\n    if (type === \"onboarding\") url = \"/api/onboarding/export/csv\";\n    if (type === \"evaluation\") url = \"/api/evaluations/export/csv\";\n    window.open(url, \"_blank\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-bold mb-4\",\n      children: \"Scheduled Reminders\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"mr-2 font-medium\",\n        children: \"Filter by type:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: type,\n        onChange: e => setType(e.target.value),\n        className: \"border rounded px-2 py-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"feedback\",\n          children: \"Feedback\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"trial\",\n          children: \"Trial\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 flex flex-wrap gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleExport(\"feedback\"),\n        className: \"btn btn-outline\",\n        children: \"Export Feedback CSV\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleExport(\"onboarding\"),\n        className: \"btn btn-outline\",\n        children: \"Export Onboarding CSV\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleExport(\"evaluation\"),\n        className: \"btn btn-outline\",\n        children: \"Export Evaluation CSV\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading reminders...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"min-w-full bg-white border\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border px-2 py-1\",\n            children: \"User ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border px-2 py-1\",\n            children: \"Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border px-2 py-1\",\n            children: \"Message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border px-2 py-1\",\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: reminders.map(rem => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"border px-2 py-1\",\n            children: rem.userId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"border px-2 py-1\",\n            children: rem.type\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"border px-2 py-1\",\n            children: rem.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"border px-2 py-1\",\n            children: new Date(rem.createdAt).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this)]\n        }, rem.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n};\n_s(RemindersList, \"BmSmUCs985WucM5gorUwLGFo9h0=\");\n_c = RemindersList;\nexport default RemindersList;\nvar _c;\n$RefreshReg$(_c, \"RemindersList\");","map":{"version":3,"names":["React","useEffect","useState","api","jsxDEV","_jsxDEV","RemindersList","_s","reminders","setReminders","loading","setLoading","type","setType","get","then","res","data","finally","handleExport","url","window","open","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","onClick","map","rem","userId","message","Date","createdAt","toLocaleString","id","_c","$RefreshReg$"],"sources":["C:/Users/zebi9/Desktop/imp/pmi_ft_amine/frontend/src/components/admin/RemindersList.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport api from \"../../api/api\";\r\n\r\nconst RemindersList = () => {\r\n  const [reminders, setReminders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [type, setType] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    api\r\n      .get(`/notifications/all${type ? `?type=${type}` : \"\"}`)\r\n      .then((res) => setReminders(res.data))\r\n      .finally(() => setLoading(false));\r\n  }, [type]);\r\n\r\n  const handleExport = (type) => {\r\n    let url = \"\";\r\n    if (type === \"feedback\") url = \"/api/feedback/export/csv\";\r\n    if (type === \"onboarding\") url = \"/api/onboarding/export/csv\";\r\n    if (type === \"evaluation\") url = \"/api/evaluations/export/csv\";\r\n    window.open(url, \"_blank\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h2 className=\"text-xl font-bold mb-4\">Scheduled Reminders</h2>\r\n      <div className=\"mb-4\">\r\n        <label className=\"mr-2 font-medium\">Filter by type:</label>\r\n        <select\r\n          value={type}\r\n          onChange={(e) => setType(e.target.value)}\r\n          className=\"border rounded px-2 py-1\"\r\n        >\r\n          <option value=\"\">All</option>\r\n          <option value=\"feedback\">Feedback</option>\r\n          <option value=\"trial\">Trial</option>\r\n        </select>\r\n      </div>\r\n      <div className=\"mb-4 flex flex-wrap gap-2\">\r\n        <button\r\n          onClick={() => handleExport(\"feedback\")}\r\n          className=\"btn btn-outline\"\r\n        >\r\n          Export Feedback CSV\r\n        </button>\r\n        <button\r\n          onClick={() => handleExport(\"onboarding\")}\r\n          className=\"btn btn-outline\"\r\n        >\r\n          Export Onboarding CSV\r\n        </button>\r\n        <button\r\n          onClick={() => handleExport(\"evaluation\")}\r\n          className=\"btn btn-outline\"\r\n        >\r\n          Export Evaluation CSV\r\n        </button>\r\n      </div>\r\n      {loading ? (\r\n        <div>Loading reminders...</div>\r\n      ) : (\r\n        <table className=\"min-w-full bg-white border\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"border px-2 py-1\">User ID</th>\r\n              <th className=\"border px-2 py-1\">Type</th>\r\n              <th className=\"border px-2 py-1\">Message</th>\r\n              <th className=\"border px-2 py-1\">Date</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {reminders.map((rem) => (\r\n              <tr key={rem.id}>\r\n                <td className=\"border px-2 py-1\">{rem.userId}</td>\r\n                <td className=\"border px-2 py-1\">{rem.type}</td>\r\n                <td className=\"border px-2 py-1\">{rem.message}</td>\r\n                <td className=\"border px-2 py-1\">\r\n                  {new Date(rem.createdAt).toLocaleString()}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RemindersList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}